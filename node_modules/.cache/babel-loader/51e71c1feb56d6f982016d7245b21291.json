{"remainingRequest":"F:\\projects\\dedaoadmin\\node_modules\\babel-loader\\lib\\index.js!F:\\projects\\dedaoadmin\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!F:\\projects\\dedaoadmin\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\projects\\dedaoadmin\\src\\views\\login.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\projects\\dedaoadmin\\src\\views\\login.vue","mtime":1643780432782},{"path":"F:\\projects\\dedaoadmin\\babel.config.js","mtime":1642213773922},{"path":"F:\\projects\\dedaoadmin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1642213752375},{"path":"F:\\projects\\dedaoadmin\\node_modules\\babel-loader\\lib\\index.js","mtime":1642213756324},{"path":"F:\\projects\\dedaoadmin\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1642213752375},{"path":"F:\\projects\\dedaoadmin\\node_modules\\vue-loader\\lib\\index.js","mtime":1642213757361}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZXJyb3IuY2F1c2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50ZXN0LmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgbG9naW4gfSBmcm9tICIuLi9hcGkvaHR0cCI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgdmFyIGNoZWNrdXNlcm5hbWUgPSBmdW5jdGlvbiBjaGVja3VzZXJuYW1lKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaykgewogICAgICBpZiAodmFsdWUgPT09ICIiKSB7CiAgICAgICAgY2FsbGJhY2sobmV3IEVycm9yKCLor7fovpPlhaXnlKjmiLflkI0iKSk7CiAgICAgIH0KCiAgICAgIGNhbGxiYWNrKCk7CiAgICB9OwoKICAgIHZhciBjaGVja3Bhc3N3b3JkID0gZnVuY3Rpb24gY2hlY2twYXNzd29yZChydWxlLCB2YWx1ZSwgY2FsbGJhY2spIHsKICAgICAgaWYgKHZhbHVlID09PSAiIikgewogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcigi6K+36L6T5YWl5a+G56CBIikpOwogICAgICB9CgogICAgICBpZiAoIS9eXGR7Myw1fSQvaS50ZXN0KHZhbHVlKSkgewogICAgICAgIGNhbGxiYWNrKG5ldyBFcnJvcigi6K+36L6T5YWlMy015L2N5a2X56ym5Liy5a+G56CBIikpOwogICAgICB9CgogICAgICBjYWxsYmFjaygpOwogICAgfTsKCiAgICByZXR1cm4gewogICAgICBsb2dpbkZvcm06IHsKICAgICAgICB1c2VybmFtZTogIiIsCiAgICAgICAgcGFzc3dvcmQ6ICIiCiAgICAgIH0sCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgdXNlcm5hbWU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLmraTpobnlv4XloasiLAogICAgICAgICAgdmFsaWRhdG9yOiBjaGVja3VzZXJuYW1lLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfSwgewogICAgICAgICAgbWluOiAyLAogICAgICAgICAgbWF4OiAiNSIsCiAgICAgICAgICBtZXNzYWdlOiAi5b+F6aG75pivMi015Liq5a2X56ymIiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dLAogICAgICAgIHBhc3N3b3JkOiBbewogICAgICAgICAgdmFsaWRhdG9yOiBjaGVja3Bhc3N3b3JkLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0KICAgICAgfQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHN1Ym1pdEZvcm06IGZ1bmN0aW9uIHN1Ym1pdEZvcm0oZm9ybU5hbWUpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuJHJlZnNbZm9ybU5hbWVdLnZhbGlkYXRlKGZ1bmN0aW9uICh2YWxpZCkgewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgLy8gYWxlcnQoJ3N1Ym1pdCEnKTsKICAgICAgICAgIGNvbnNvbGUubG9nKF90aGlzLmxvZ2luRm9ybSk7CiAgICAgICAgICBsb2dpbihfdGhpcy5sb2dpbkZvcm0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpOwogICAgICAgICAgICB2YXIgX3JlcyRkYXRhID0gcmVzLmRhdGEsCiAgICAgICAgICAgICAgICBjb2RlID0gX3JlcyRkYXRhLmNvZGUsCiAgICAgICAgICAgICAgICB0b2tlbiA9IF9yZXMkZGF0YS50b2tlbjsKCiAgICAgICAgICAgIGlmIChjb2RlID09PSAwKSB7CiAgICAgICAgICAgICAgLy8g55m76ZmG5oiQ5YqfCiAgICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbSgidG9rZW4iLCB0b2tlbik7CgogICAgICAgICAgICAgIF90aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICLnmbvpmYbmiJDlip8iLAogICAgICAgICAgICAgICAgdHlwZTogInN1Y2Nlc3MiLAogICAgICAgICAgICAgICAgZHVyYXRpb246IDgwMAogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goJy8nKTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgaWYgKGNvZGUgPT09IDEpIHsKICAgICAgICAgICAgICAvLyDnmbvpmYblpLHotKUKICAgICAgICAgICAgICBfdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgICAgICBtZXNzYWdlOiAi55m76ZmG5aSx6LSlIiwKICAgICAgICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIiwKICAgICAgICAgICAgICAgIGR1cmF0aW9uOiA4MDAKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgX3RoaXMubG9naW5Gb3JtID0gewogICAgICAgICAgICAgICAgdXNlcm5hbWU6ICIiLAogICAgICAgICAgICAgICAgcGFzc3dvcmQ6ICIiCiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgfQogICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICBjb25zb2xlLmxvZygiZXJyIik7CiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY29uc29sZS5sb2coImVycm9yIHN1Ym1pdCEhIik7CiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICByZXNldEZvcm06IGZ1bmN0aW9uIHJlc2V0Rm9ybShmb3JtTmFtZSkgewogICAgICB0aGlzLiRyZWZzW2Zvcm1OYW1lXS5yZXNldEZpZWxkcygpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA,SAAA,KAAA,QAAA,aAAA;AAEA,eAAA;AACA,EAAA,IADA,kBACA;AACA,QAAA,aAAA,GAAA,SAAA,aAAA,CAAA,IAAA,EAAA,KAAA,EAAA,QAAA,EAAA;AACA,UAAA,KAAA,KAAA,EAAA,EAAA;AACA,QAAA,QAAA,CAAA,IAAA,KAAA,CAAA,QAAA,CAAA,CAAA;AACA;;AACA,MAAA,QAAA;AACA,KALA;;AAMA,QAAA,aAAA,GAAA,SAAA,aAAA,CAAA,IAAA,EAAA,KAAA,EAAA,QAAA,EAAA;AACA,UAAA,KAAA,KAAA,EAAA,EAAA;AACA,QAAA,QAAA,CAAA,IAAA,KAAA,CAAA,OAAA,CAAA,CAAA;AACA;;AACA,UAAA,CAAA,aAAA,IAAA,CAAA,KAAA,CAAA,EAAA;AACA,QAAA,QAAA,CAAA,IAAA,KAAA,CAAA,cAAA,CAAA,CAAA;AACA;;AACA,MAAA,QAAA;AACA,KARA;;AASA,WAAA;AACA,MAAA,SAAA,EAAA;AACA,QAAA,QAAA,EAAA,EADA;AAEA,QAAA,QAAA,EAAA;AAFA,OADA;AAKA,MAAA,KAAA,EAAA;AACA,QAAA,QAAA,EAAA,CACA;AACA,UAAA,QAAA,EAAA,IADA;AAEA,UAAA,OAAA,EAAA,MAFA;AAGA,UAAA,SAAA,EAAA,aAHA;AAIA,UAAA,OAAA,EAAA;AAJA,SADA,EAOA;AAAA,UAAA,GAAA,EAAA,CAAA;AAAA,UAAA,GAAA,EAAA,GAAA;AAAA,UAAA,OAAA,EAAA,WAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SAPA,CADA;AAUA,QAAA,QAAA,EAAA,CAAA;AAAA,UAAA,SAAA,EAAA,aAAA;AAAA,UAAA,OAAA,EAAA;AAAA,SAAA;AAVA;AALA,KAAA;AAkBA,GAnCA;AAoCA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,sBACA,QADA,EACA;AAAA;;AACA,WAAA,KAAA,CAAA,QAAA,EAAA,QAAA,CAAA,UAAA,KAAA,EAAA;AACA,YAAA,KAAA,EAAA;AACA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,KAAA,CAAA,SAAA;AACA,UAAA,KAAA,CAAA,KAAA,CAAA,SAAA,CAAA,CACA,IADA,CACA,UAAA,GAAA,EAAA;AACA,YAAA,OAAA,CAAA,GAAA,CAAA,GAAA;AACA,4BAAA,GAAA,CAAA,IAAA;AAAA,gBAAA,IAAA,aAAA,IAAA;AAAA,gBAAA,KAAA,aAAA,KAAA;;AAEA,gBAAA,IAAA,KAAA,CAAA,EAAA;AACA;AACA,cAAA,cAAA,CAAA,OAAA,CAAA,OAAA,EAAA,KAAA;;AACA,cAAA,KAAA,CAAA,QAAA,CAAA;AACA,gBAAA,OAAA,EAAA,MADA;AAEA,gBAAA,IAAA,EAAA,SAFA;AAGA,gBAAA,QAAA,EAAA;AAHA,eAAA;;AAKA,cAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,GAAA;AACA;;AACA,gBAAA,IAAA,KAAA,CAAA,EAAA;AACA;AACA,cAAA,KAAA,CAAA,QAAA,CAAA;AACA,gBAAA,OAAA,EAAA,MADA;AAEA,gBAAA,IAAA,EAAA,SAFA;AAGA,gBAAA,QAAA,EAAA;AAHA,eAAA;;AAKA,cAAA,KAAA,CAAA,SAAA,GAAA;AACA,gBAAA,QAAA,EAAA,EADA;AAEA,gBAAA,QAAA,EAAA;AAFA,eAAA;AAIA;AACA,WA3BA,EA4BA,KA5BA,CA4BA,UAAA,GAAA,EAAA;AACA,YAAA,OAAA,CAAA,GAAA,CAAA,KAAA;AACA,WA9BA;AA+BA,SAlCA,MAkCA;AACA,UAAA,OAAA,CAAA,GAAA,CAAA,gBAAA;AACA,iBAAA,KAAA;AACA;AACA,OAvCA;AAwCA,KA1CA;AA2CA,IAAA,SA3CA,qBA2CA,QA3CA,EA2CA;AACA,WAAA,KAAA,CAAA,QAAA,EAAA,WAAA;AACA;AA7CA;AApCA,CAAA","sourcesContent":["<template>\n  <div class=\"login\">\n    <el-form\n      :model=\"loginForm\"\n      status-icon\n      :rules=\"rules\"\n      ref=\"loginForm\"\n      label-width=\"100px\"\n      class=\"demo-loginForm\"\n    >\n      <el-form-item label=\"用户名\" prop=\"username\">\n        <el-input\n          type=\"text\"\n          v-model=\"loginForm.username\"\n          autocomplete=\"off\"\n        ></el-input>\n      </el-form-item>\n      <el-form-item label=\"密码\" prop=\"password\">\n        <el-input\n          type=\"password\"\n          v-model=\"loginForm.password\"\n          autocomplete=\"off\"\n        ></el-input>\n      </el-form-item>\n\n      <el-form-item>\n        <el-button type=\"primary\" @click=\"submitForm('loginForm')\"\n          >提交</el-button\n        >\n        <el-button @click=\"resetForm('loginForm')\">重置</el-button>\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n\n<script>\nimport { login } from \"../api/http\";\n\nexport default {\n  data() {\n    const checkusername = (rule, value, callback) => {\n      if (value === \"\") {\n        callback(new Error(\"请输入用户名\"));\n      }\n      callback();\n    };\n    const checkpassword = (rule, value, callback) => {\n      if (value === \"\") {\n        callback(new Error(\"请输入密码\"));\n      }\n      if (!/^\\d{3,5}$/i.test(value)) {\n        callback(new Error(\"请输入3-5位字符串密码\"));\n      }\n      callback();\n    };\n    return {\n      loginForm: {\n        username: \"\",\n        password: \"\",\n      },\n      rules: {\n        username: [\n          {\n            required: true,\n            message: \"此项必填\",\n            validator: checkusername,\n            trigger: \"blur\",\n          },\n          { min: 2, max: \"5\", message: \"必须是2-5个字符\", trigger: \"blur\" },\n        ],\n        password: [{ validator: checkpassword, trigger: \"blur\" }],\n      },\n    };\n  },\n  methods: {\n    submitForm(formName) {\n      this.$refs[formName].validate((valid) => {\n        if (valid) {\n          // alert('submit!');\n          console.log(this.loginForm);\n          login(this.loginForm)\n            .then((res) => {\n              console.log(res);\n              let { code ,token} = res.data;\n\n              if (code === 0) {\n                // 登陆成功\n                sessionStorage.setItem(\"token\",token)\n                this.$message({\n                  message: \"登陆成功\",\n                  type: \"success\",\n                  duration: 800,\n                });\n                this.$router.push('/')\n              }\n              if (code === 1) {\n                // 登陆失败\n                this.$message({\n                  message: \"登陆失败\",\n                  type: \"warning\",\n                  duration: 800,\n                });\n                this.loginForm = {\n                  username: \"\",\n                  password: \"\",\n                };\n              }\n            })\n            .catch((err) => {\n              console.log(\"err\");\n            });\n        } else {\n          console.log(\"error submit!!\");\n          return false;\n        }\n      });\n    },\n    resetForm(formName) {\n      this.$refs[formName].resetFields();\n    },\n  },\n};\n</script>\n"],"sourceRoot":"src/views"}]}